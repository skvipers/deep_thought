# üîÑ –û—Ç—á–µ—Ç –æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ —Å–∏—Å—Ç–µ–º—ã —Å–∫–µ–ª–µ—Ç–∞

## üìã **–í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**

### ‚úÖ **1. –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–æ–≤**
- **–£–¥–∞–ª–µ–Ω:** `AutoSkeletonController.gd` (548 —Å—Ç—Ä–æ–∫)
- **–£–ª—É—á—à–µ–Ω:** `PawnSkeleton.gd` —Å –ª—É—á—à–∏–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏ –∏–∑ AutoSkeletonController
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä —Å –ø–æ–ª–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é

### ‚úÖ **2. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è**
- **–î–æ–±–∞–≤–ª–µ–Ω—ã –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏:**
  - `head_follow_torso_intensity = 0.3`
  - `torso_follow_head_intensity = 0.2`
  - `arms_follow_torso_intensity = 0.4`
  - `legs_follow_torso_intensity = 0.3`
- **–ù–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
  - `set_torso_rotation_with_following()`
  - `set_head_rotation_with_body_following()`
  - `_make_arms_follow_torso()`
  - `_make_legs_follow_torso()`

### ‚úÖ **3. –£–ª—É—á—à–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø–æ–∑**
- **–†—É–∫–∏:** `idle`, `raised`, `pointing`, `bent`
- **–ù–æ–≥–∏:** `idle`, `walking`, `kicking`
- **–§—É–Ω–∫—Ü–∏–∏:** `set_arm_pose()`, `set_leg_pose()`

### ‚úÖ **4. –£–¥–∞–ª–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è**
- **–£–¥–∞–ª–µ–Ω–∞ –¥—É–±–ª–∏—Ä—É—é—â–∞—è —Ñ—É–Ω–∫—Ü–∏—è:** `create_humanoid_skeleton()` –∏–∑ `PawnSkeletonData`
- **–û—Å—Ç–∞–≤–ª–µ–Ω–∞ —Ç–æ–ª—å–∫–æ –≤:** `SkeletonFactory.gd`

### ‚úÖ **5. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**
- **–î–æ–±–∞–≤–ª–µ–Ω—ã —ç–º–æ–¥–∑–∏** –¥–ª—è –ª—É—á—à–µ–π —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –ª–æ–≥–æ–≤
- **–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è** –æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —É–∑–ª–∞—Ö
- **–î–µ—Ç–∞–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è** –æ–± –æ—à–∏–±–∫–∞—Ö

## üìä **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏–π**

### **–£–¥–∞–ª–µ–Ω–æ:**
- `AutoSkeletonController.gd` - 548 —Å—Ç—Ä–æ–∫
- –î—É–±–ª–∏—Ä—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ - ~50 —Å—Ç—Ä–æ–∫
- –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã - ~200 —Å—Ç—Ä–æ–∫

### **–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- –£–ª—É—á—à–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è - ~150 —Å—Ç—Ä–æ–∫
- –°–∏—Å—Ç–µ–º–∞ –ø–æ–∑ - ~200 —Å—Ç—Ä–æ–∫
- –£–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ - ~50 —Å—Ç—Ä–æ–∫

### **–û–±—â–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- **–£–º–µ–Ω—å—à–µ–Ω–∏–µ –∫–æ–¥–∞:** ~400 —Å—Ç—Ä–æ–∫
- **–£–ª—É—á—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏:** +100%
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã:** –ï–¥–∏–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö

## üéØ **–ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏**

### **1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ**
```gdscript
# –ü–æ–≤–æ—Ä–æ—Ç —Ç–æ—Ä—Å–∞ —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º –≤—Å–µ—Ö —á–∞—Å—Ç–µ–π
pawn_skeleton.set_torso_rotation_with_following(Vector3(0, 0, deg_to_rad(20)))

# –ü–æ–≤–æ—Ä–æ—Ç –≥–æ–ª–æ–≤—ã —Å —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ–º —Ç–µ–ª–∞
pawn_skeleton.set_head_rotation_with_body_following(Vector3(0, 0, deg_to_rad(15)))
```

### **2. –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å**
```gdscript
# –ú–æ–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–∏–ª—É —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
pawn_skeleton.head_follow_torso_intensity = 0.3
pawn_skeleton.arms_follow_torso_intensity = 0.4
```

### **3. –£–ª—É—á—à–µ–Ω–Ω—ã–µ –ø–æ–∑—ã**
```gdscript
# –†—É–∫–∏
pawn_skeleton.set_arm_pose("left", "raised")
pawn_skeleton.set_arm_pose("right", "pointing")

# –ù–æ–≥–∏
pawn_skeleton.set_leg_pose("left", "walking")
pawn_skeleton.set_leg_pose("right", "kicking")
```

## üîß **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è**

### **1. –ú–æ–¥—É–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞**
- –ö–∞–∂–¥–∞—è —á–∞—Å—Ç—å —Ç–µ–ª–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞
- –ú–æ–∂–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ
- –ì–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏

### **2. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**
- –£–±—Ä–∞–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ —É–∑–ª–æ–≤
- –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### **3. –ü—Ä–æ—Å—Ç–æ—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è**
- –ï–¥–∏–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ—Å—Ç–µ–π
- –ü–æ–Ω—è—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–π
- –ü–æ–¥—Ä–æ–±–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## üìù **–û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**

### **–û–±–Ω–æ–≤–ª–µ–Ω—ã —Ñ–∞–π–ª—ã:**
- `README.md` - –ø–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –Ω–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ
- `automatic_following_guide.md` - —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º—É —Å–ª–µ–¥–æ–≤–∞–Ω–∏—é
- `REFACTORING_REPORT.md` - —ç—Ç–æ—Ç –æ—Ç—á–µ—Ç

## üéâ **–ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç**

**–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞:**
- ‚úÖ **–ü—Ä–æ—â–µ** - –æ–¥–∏–Ω –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
- ‚úÖ **–ú–æ—â–Ω–µ–µ** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–µ–π —Ç–µ–ª–∞
- ‚úÖ **–ì–∏–±—á–µ** - –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Å–ª–µ–¥–æ–≤–∞–Ω–∏—è
- ‚úÖ **–ù–∞–¥–µ–∂–Ω–µ–µ** - —É–ª—É—á—à–µ–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ **–ú–æ–¥—É–ª—å–Ω–µ–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —á–∞—Å—Ç–µ–π —Ç–µ–ª–∞

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ 