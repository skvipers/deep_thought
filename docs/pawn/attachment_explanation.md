# üîó AttachmentData - –æ–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø–æ–ª–µ–π

## üéØ **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ AttachmentData:**

`AttachmentData` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è **—Ç–æ—á–µ–∫ –ø—Ä–∏–≤—è–∑–∫–∏** —á–∞—Å—Ç–µ–π —Ç–µ–ª–∞ –∫ –∫–æ—Å—Ç—è–º —Å–∫–µ–ª–µ—Ç–∞. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü—Ä–∏–∫—Ä–µ–ø–ª—è—Ç—å –ø—Ä–æ—Ç–µ–∑—ã –∫ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–º –∫–æ—Å—Ç—è–º
- –†–∞–∑–º–µ—â–∞—Ç—å —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–∑–∏—Ü–∏—è—Ö
- –£–ø—Ä–∞–≤–ª—è—Ç—å —Ç—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏–µ–π —á–∞—Å—Ç–µ–π —Ç–µ–ª–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Å—Ç–µ–π

## üìù **–ü–æ–ª—è AttachmentData:**

### **`part_name` - –∏–º—è —á–∞—Å—Ç–∏ —Ç–µ–ª–∞:**
- **–ß—Ç–æ —ç—Ç–æ:** –õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∏–º—è —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "head", "left_arm", "torso")
- **–î–ª—è —á–µ–≥–æ:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –≤ —Å–∏—Å—Ç–µ–º–µ
- **–ü—Ä–∏–º–µ—Ä—ã:** `"head"`, `"left_arm"`, `"right_leg"`, `"torso"`, `"tail"`

### **`bone_name` - –∏–º—è –∫–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏:**
- **–ß—Ç–æ —ç—Ç–æ:** –ò–º—è –∫–æ—Å—Ç–∏ –∏–∑ `UnifiedBoneData`, –∫ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —á–∞—Å—Ç—å —Ç–µ–ª–∞
- **–î–ª—è —á–µ–≥–æ:** –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫ –∫–∞–∫–æ–π –∫–æ—Å—Ç–∏ –±—É–¥–µ—Ç –ø—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∞ —á–∞—Å—Ç—å —Ç–µ–ª–∞
- **–ü—Ä–∏–º–µ—Ä—ã:** `"head"`, `"left_arm"`, `"spine"`, `"tail"`

### **`position` - –ø–æ–∑–∏—Ü–∏—è –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Å—Ç–∏:**
- **–ß—Ç–æ —ç—Ç–æ:** –°–º–µ—â–µ–Ω–∏–µ –æ—Ç —Ü–µ–Ω—Ç—Ä–∞ –∫–æ—Å—Ç–∏
- **–î–ª—è —á–µ–≥–æ:** –¢–æ—á–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —á–∞—Å—Ç–∏ —Ç–µ–ª–∞
- **–ü—Ä–∏–º–µ—Ä—ã:** `Vector3(0, 0, 0)` - –ø–æ —Ü–µ–Ω—Ç—Ä—É, `Vector3(0, 10, 0)` - –≤—ã—à–µ –Ω–∞ 10 –µ–¥–∏–Ω–∏—Ü

### **`rotation` - –ø–æ–≤–æ—Ä–æ—Ç –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Å—Ç–∏:**
- **–ß—Ç–æ —ç—Ç–æ:** –ü–æ–≤–æ—Ä–æ—Ç —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Å—Ç–∏
- **–î–ª—è —á–µ–≥–æ:** –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è —á–∞—Å—Ç–∏ —Ç–µ–ª–∞
- **–ü—Ä–∏–º–µ—Ä—ã:** `Vector3(0, 0, 0)` - –±–µ–∑ –ø–æ–≤–æ—Ä–æ—Ç–∞, `Vector3(0, 90, 0)` - –ø–æ–≤–æ—Ä–æ—Ç –Ω–∞ 90¬∞ –ø–æ Y

### **`scale` - –º–∞—Å—à—Ç–∞–± —á–∞—Å—Ç–∏ —Ç–µ–ª–∞:**
- **–ß—Ç–æ —ç—Ç–æ:** –†–∞–∑–º–µ—Ä —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ—Å—Ç–∏
- **–î–ª—è —á–µ–≥–æ:** –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –ø—Ä–æ—Ç–µ–∑–æ–≤ –∏–ª–∏ —á–∞—Å—Ç–µ–π —Ç–µ–ª–∞
- **–ü—Ä–∏–º–µ—Ä—ã:** `Vector3(1, 1, 1)` - –Ω–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä, `Vector3(1.5, 1.5, 1.5)` - —É–≤–µ–ª–∏—á–µ–Ω–∏–µ –≤ 1.5 —Ä–∞–∑–∞

## üîó **–ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

### **1. –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–≤—è–∑–∫–∏:**
```gdscript
var head_attachment = AttachmentData.new("head", "head", Vector3.ZERO, Vector3.ZERO)
# part_name = "head" - –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∏–º—è —á–∞—Å—Ç–∏ —Ç–µ–ª–∞
# bone_name = "head" - –∏–º—è –∫–æ—Å—Ç–∏ –¥–ª—è –ø—Ä–∏–≤—è–∑–∫–∏
```

### **2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ —Å–∏—Å—Ç–µ–º–µ:**
```gdscript
# –í PawnSkeleton._create_attachment():
var attachment = Node3D.new()
attachment.name = "Attachment_" + attachment_data.part_name  # "Attachment_head"
attachment.position = attachment_data.position
attachment.rotation = attachment_data.rotation

# –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –∫ –∫–æ—Å—Ç–∏:
var parent_bone = bones.get(attachment_data.bone_name)  # –ò—â–µ–º –∫–æ—Å—Ç—å "head"
if parent_bone:
    parent_bone.add_child(attachment)  # –ü—Ä–∏–≤—è–∑—ã–≤–∞–µ–º –∫ –∫–æ—Å—Ç–∏
```

### **3. –ü–æ–∏—Å–∫ –ø—Ä–∏–≤—è–∑–∫–∏:**
```gdscript
# –í PawnSkeleton.get_attachment():
var attachment = bone_attachments.get(part_name)  # –ò—â–µ–º –ø–æ "head"
```

## üìã **–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**

### **–ß–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π —Å–∫–µ–ª–µ—Ç:**
```gdscript
# –ì–æ–ª–æ–≤–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ—Å—Ç–∏ –≥–æ–ª–æ–≤—ã
AttachmentData.new("head", "head", Vector3.ZERO, Vector3.ZERO)

# –õ–µ–≤–∞—è —Ä—É–∫–∞ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –∫–æ—Å—Ç–∏ –ª–µ–≤–æ–π —Ä—É–∫–∏
AttachmentData.new("left_arm", "left_arm", Vector3.ZERO, Vector3.ZERO)

# –¢—É–ª–æ–≤–∏—â–µ –ø—Ä–∏–≤—è–∑–∞–Ω–æ –∫ –ø–æ–∑–≤–æ–Ω–æ—á–Ω–∏–∫—É
AttachmentData.new("torso", "spine", Vector3.ZERO, Vector3.ZERO)
```

### **–ñ–∏–≤–æ—Ç–Ω–æ–µ (—Å–æ–±–∞–∫–∞):**
```gdscript
# –•–≤–æ—Å—Ç –ø—Ä–∏–≤—è–∑–∞–Ω –∫ –∫–æ—Å—Ç–∏ —Ö–≤–æ—Å—Ç–∞
AttachmentData.new("tail", "tail", Vector3.ZERO, Vector3.ZERO)

# –ü–µ—Ä–µ–¥–Ω–∏–µ –ª–∞–ø—ã –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–º –∫–æ—Å—Ç—è–º
AttachmentData.new("front_left_leg", "front_left_leg", Vector3.ZERO, Vector3.ZERO)
AttachmentData.new("front_right_leg", "front_right_leg", Vector3.ZERO, Vector3.ZERO)
```

### **–°–º–µ—â–µ–Ω–Ω—ã–µ –ø—Ä–∏–≤—è–∑–∫–∏:**
```gdscript
# –ü—Ä–æ—Ç–µ–∑ —Ä—É–∫–∏ —Å–æ —Å–º–µ—â–µ–Ω–∏–µ–º
AttachmentData.new("prosthetic_arm", "left_arm", Vector3(5, 0, 0), Vector3(0, 45, 0))

# –®–ª–µ–º –Ω–∞ –≥–æ–ª–æ–≤–µ
AttachmentData.new("helmet", "head", Vector3(0, 10, 0), Vector3.ZERO)
```

## üéØ **–õ–æ–≥–∏–∫–∞ –∏–º–µ–Ω–æ–≤–∞–Ω–∏—è:**

### **`part_name` - —á—Ç–æ —É–∫–∞–∑—ã–≤–∞—Ç—å:**
- ‚úÖ **–õ–æ–≥–∏—á–µ—Å–∫–æ–µ –∏–º—è —á–∞—Å—Ç–∏ —Ç–µ–ª–∞:** `"head"`, `"left_arm"`, `"torso"`
- ‚úÖ **–û–ø–∏—Å–∞—Ç–µ–ª—å–Ω–æ–µ –∏–º—è:** `"prosthetic_arm"`, `"helmet"`, `"backpack"`
- ‚ùå **–ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å:** —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –∏–º–µ–Ω–∞ —É–∑–ª–æ–≤, —Å–ª—É—á–∞–π–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏

### **`bone_name` - —á—Ç–æ —É–∫–∞–∑—ã–≤–∞—Ç—å:**
- ‚úÖ **–ò–º—è –∫–æ—Å—Ç–∏ –∏–∑ UnifiedBoneData:** `"head"`, `"left_arm"`, `"spine"`
- ‚úÖ **–î–æ–ª–∂–Ω–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞—Ç—å –≤ bones –º–∞—Å—Å–∏–≤–µ**
- ‚ùå **–ù–µ —É–∫–∞–∑—ã–≤–∞—Ç—å:** –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∫–æ—Å—Ç–∏, —Å–ª—É—á–∞–π–Ω—ã–µ –∏–º–µ–Ω–∞

## üîß **–ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å–æ–≤–µ—Ç—ã:**

### **1. –°–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç—å –∏–º–µ–Ω:**
```gdscript
# –•–æ—Ä–æ—à–æ - –∏–º–µ–Ω–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç
AttachmentData.new("head", "head", Vector3.ZERO, Vector3.ZERO)

# –¢–æ–∂–µ —Ö–æ—Ä–æ—à–æ - —Ä–∞–∑–Ω—ã–µ –∏–º–µ–Ω–∞, –Ω–æ –ª–æ–≥–∏—á–Ω–æ
AttachmentData.new("helmet", "head", Vector3.ZERO, Vector3.ZERO)
AttachmentData.new("torso", "spine", Vector3.ZERO, Vector3.ZERO)
```

### **2. –ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```gdscript
# –ü–æ —Ü–µ–Ω—Ç—Ä—É –∫–æ—Å—Ç–∏
AttachmentData.new("head", "head", Vector3.ZERO, Vector3.ZERO)

# –°–æ —Å–º–µ—â–µ–Ω–∏–µ–º
AttachmentData.new("prosthetic", "left_arm", Vector3(5, 0, 0), Vector3.ZERO)

# –° –ø–æ–≤–æ—Ä–æ—Ç–æ–º
AttachmentData.new("weapon", "right_arm", Vector3.ZERO, Vector3(0, 90, 0))
```

### **3. –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ:**
```gdscript
# –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä
var attachment = AttachmentData.new("head", "head", Vector3.ZERO, Vector3.ZERO)
attachment.scale = Vector3(1, 1, 1)

# –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π –ø—Ä–æ—Ç–µ–∑
var prosthetic = AttachmentData.new("prosthetic_arm", "left_arm", Vector3.ZERO, Vector3.ZERO)
prosthetic.scale = Vector3(1.2, 1.2, 1.2)
```

## üéâ **–ò—Ç–æ–≥:**

**`part_name`** - –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –∏–º—è —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞ –≤ —Å–∏—Å—Ç–µ–º–µ
**`bone_name`** - –∏–º—è –∫–æ—Å—Ç–∏ –∏–∑ UnifiedBoneData –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –ø—Ä–∏–≤—è–∑–∫–∏

**–°–∏—Å—Ç–µ–º–∞ –ø–æ–∑–≤–æ–ª—è–µ—Ç –≥–∏–±–∫–æ –ø—Ä–∏–≤—è–∑—ã–≤–∞—Ç—å –ª—é–±—ã–µ —á–∞—Å—Ç–∏ —Ç–µ–ª–∞ –∫ –ª—é–±—ã–º –∫–æ—Å—Ç—è–º!** üöÄ 