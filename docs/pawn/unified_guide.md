# üéØ –§–∏–Ω–∞–ª—å–Ω–∞—è —É–ø—Ä–æ—â–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Å–∫–µ–ª–µ—Ç–∞

## ‚úÖ **–°–∏—Å—Ç–µ–º–∞ –æ—á–∏—â–µ–Ω–∞! –û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ–µ:**

### **–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
1. **`UnifiedBoneData`** - –µ–¥–∏–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –∫–æ—Å—Ç–µ–π
2. **`PawnSkeletonData`** - –¥–∞–Ω–Ω—ã–µ —Å–∫–µ–ª–µ—Ç–∞
3. **`AutoSkeletonController`** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
4. **`AttachmentData`** - –ø—Ä–∏–≤—è–∑–∫–∏ —á–∞—Å—Ç–µ–π —Ç–µ–ª–∞

## ü¶¥ **UnifiedBoneData - –µ–¥–∏–Ω—ã–π –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö –∫–æ—Å—Ç–µ–π:**

### **Enum –¥–ª—è —Ç–∏–ø–æ–≤ –∫–æ—Å—Ç–µ–π:**
```gdscript
enum BoneType {
	SIMPLE,    # –ü—Ä–æ—Å—Ç—ã–µ –∫–æ—Å—Ç–∏ (Node3D)
	SKELETON   # –°–∫–µ–ª–µ—Ç–Ω—ã–µ –∫–æ—Å—Ç–∏ (Skeleton3D)
}
```

### **–ì—Ä—É–ø–ø—ã –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –≤ –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä–µ:**
- **–û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏** - –∏–º—è, —Ç–∏–ø, –ø–æ–∑–∏—Ü–∏—è, –ø–æ–≤–æ—Ä–æ—Ç
- **–ü—É—Ç–∏ –∫ —É–∑–ª–∞–º** - –ø—É—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω—ã–º —É–∑–ª–∞–º –∏ –º–µ—à–∞–º
- **–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–æ—Å—Ç–µ–π** - –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ—Å—Ç–∏ –∏–ª–∏ –∏–º–µ–Ω–∞ —Å—É—Å—Ç–∞–≤–æ–≤

### **–ü–æ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞:**
- **–î–ª—è SIMPLE —Ç–∏–ø–∞:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `child_bones`, –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ `joint_names` –∏ `skeleton_path`
- **–î–ª—è SKELETON —Ç–∏–ø–∞:** –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `joint_names` –∏ `skeleton_path`, –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ `child_bones`

### **–ü—Ä–æ—Å—Ç—ã–µ –∫–æ—Å—Ç–∏:**
```gdscript
var head_bone = UnifiedBoneData.new()
head_bone.setup_simple_bone("head", "head", "head/head_mesh")
# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# - bone_type = BoneType.SIMPLE
# - node_path = "head"
# - mesh_path = "head/head_mesh"
# - child_bones = [] (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

### **–ü—Ä–æ—Å—Ç—ã–µ –∫–æ—Å—Ç–∏ —Å –¥–æ—á–µ—Ä–Ω–∏–º–∏:**
```gdscript
var torso_bone = UnifiedBoneData.new()
torso_bone.setup_simple_bone("torso", "torso", "torso/torso_mesh", ["chest", "waist"])
# –ü—Ä–∏ –ø–æ–≤–æ—Ä–æ—Ç–µ —Ç—É–ª–æ–≤–∏—â–∞, –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ—Å—Ç–∏ —Ç—è–Ω—É—Ç—Å—è –∑–∞ –Ω–∏–º
```

### **–°–∫–µ–ª–µ—Ç–Ω—ã–µ –∫–æ—Å—Ç–∏:**
```gdscript
var arm_bone = UnifiedBoneData.new()
arm_bone.setup_skeleton_bone("left_arm", "left_arm/ArmSkeleton", "left_arm/ArmSkeleton/left_arm_mesh", ["Shoulder", "Elbow"])
# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# - bone_type = BoneType.SKELETON
# - node_path = "left_arm/ArmSkeleton"
# - skeleton_path = "left_arm/ArmSkeleton" (—è–≤–Ω—ã–π –ø—É—Ç—å –∫ Skeleton3D)
# - mesh_path = "left_arm/ArmSkeleton/left_arm_mesh"
# - joint_names = ["Shoulder", "Elbow"]
```

## üöÄ **–ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

### **1. –°–æ–∑–¥–∞–Ω–∏–µ —Å–∫–µ–ª–µ—Ç–∞:**
```gdscript
var skeleton_data = PawnSkeletonData.new()

# –î–æ–±–∞–≤–ª—è–µ–º –∫–æ—Å—Ç–∏
var head_bone = UnifiedBoneData.new()
head_bone.setup_simple_bone("head", "head", "head/head_mesh")
skeleton_data.add_bone(head_bone)

var arm_bone = UnifiedBoneData.new()
arm_bone.setup_skeleton_bone("left_arm", "left_arm/ArmSkeleton", "left_arm/ArmSkeleton/left_arm_mesh")
skeleton_data.add_bone(arm_bone)
```

### **2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä:**
```gdscript
extends Node3D

func _ready():
	var controller = AutoSkeletonController.new()
	controller.skeleton_root = $Skeleton
	add_child(controller)
```

### **3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**
```gdscript
# –ü—Ä–æ—Å—Ç—ã–µ –∫–æ—Å—Ç–∏:
controller.rotate_head(Vector3(0, 45, 0))

# –°–∫–µ–ª–µ—Ç–Ω—ã–µ –∫–æ—Å—Ç–∏:
controller.set_arm_pose("left", "raised")
controller.set_leg_pose("right", "walking")
```

## üéØ **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —É–ø—Ä–æ—â–µ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã:**

### **1. –û–¥–∏–Ω –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ–≥–æ:**
- ‚ùå `BoneData` - —É–¥–∞–ª–µ–Ω
- ‚ùå `HybridBoneData` - —É–¥–∞–ª–µ–Ω  
- ‚ùå `SimpleHybridBoneData` - —É–¥–∞–ª–µ–Ω
- ‚úÖ `UnifiedBoneData` - –æ–¥–∏–Ω –∫–ª–∞—Å—Å –¥–ª—è –≤—Å–µ—Ö

### **2. –£–º–Ω—ã–π –∏–Ω—Å–ø–µ–∫—Ç–æ—Ä:**
- `@tool` - –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
- `@export_group` - –≥—Ä—É–ø–ø–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
- Enum –¥–ª—è —Ç–∏–ø–æ–≤ –∫–æ—Å—Ç–µ–π –≤ –≤—ã–ø–∞–¥–∞—é—â–µ–º —Å–ø–∏—Å–∫–µ
- –ü–æ–Ω—è—Ç–Ω—ã–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ–ª—è–º

### **3. –Ø–≤–Ω—ã–µ –ø—É—Ç–∏:**
- `node_path` - –ø—É—Ç—å –∫ –æ—Å–Ω–æ–≤–Ω–æ–º—É —É–∑–ª—É
- `mesh_path` - –ø—É—Ç—å –∫ –º–µ—à—É
- `skeleton_path` - —è–≤–Ω—ã–π –ø—É—Ç—å –∫ Skeleton3D (–¥–ª—è skeleton —Ç–∏–ø–∞)

### **4. –õ–æ–≥–∏—á–Ω—ã–µ –ø–æ–ª—è:**
- `child_bones` - –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ—Å—Ç–∏ (—Ç–æ–ª—å–∫–æ –¥–ª—è simple)
- `joint_names` - –∏–º–µ–Ω–∞ –∫–æ—Å—Ç–µ–π –≤ —Å–∫–µ–ª–µ—Ç–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è skeleton)
- `position` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–æ–∑–∏—Ü–∏—è
- `rotation` - –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–≤–æ—Ä–æ—Ç

### **5. –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- –î–∞–Ω–Ω—ã–µ –æ —Å—É—Å—Ç–∞–≤–∞—Ö –±–µ—Ä—É—Ç—Å—è –∏–∑ Skeleton3D
- –î–æ—á–µ—Ä–Ω–∏–µ –∫–æ—Å—Ç–∏ —Ç—è–Ω—É—Ç—Å—è –∑–∞ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–π
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —É–∑–ª–æ–≤

## üìã **–ß—Ç–æ —É–¥–∞–ª–µ–Ω–æ:**

### **–£–¥–∞–ª–µ–Ω–Ω—ã–µ –∫–ª–∞—Å—Å—ã:**
- `BoneData` - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `UnifiedBoneData`
- `HybridBoneData` - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `UnifiedBoneData`
- `SimpleHybridBoneData` - –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ `UnifiedBoneData`
- `SkeletalMeshData` - –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω
- `SimpleSkeletalMesh` - –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω

### **–£–¥–∞–ª–µ–Ω–Ω—ã–µ –ø–æ–ª—è:**
- `joint_positions` - –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ Skeleton3D
- `joint_count` - –º–æ–∂–Ω–æ –ø–æ—Å—á–∏—Ç–∞—Ç—å –≤ Skeleton3D

### **–£–¥–∞–ª–µ–Ω–Ω—ã–µ –≥–∞–π–¥—ã:**
- –í—Å–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –æ–±—ä—è—Å–Ω–µ–Ω–∏—è –∏ –≥–∞–π–¥—ã
- –û—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç –≥–∞–π–¥ –∏ `README.md`

## üéâ **–ò—Ç–æ–≥:**

**–°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–ª–∞:**
- ‚úÖ **–ü—Ä–æ—â–µ** - –æ–¥–∏–Ω –∫–ª–∞—Å—Å –≤–º–µ—Å—Ç–æ —Ç—Ä–µ—Ö
- ‚úÖ **–ü–æ–Ω—è—Ç–Ω–µ–µ** - –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏ –æ–ø–∏—Å–∞–Ω–∏—è
- ‚úÖ **–ì–∏–±—á–µ** - —è–≤–Ω—ã–µ –ø—É—Ç–∏ –∫ Skeleton3D
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ–µ** - –º–µ–Ω—å—à–µ —Ä—É—á–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ